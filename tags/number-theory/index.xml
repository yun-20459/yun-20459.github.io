<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Number Theory on 隨寫日誌</title><link>https://yun-20459.github.io/tags/number-theory/</link><description>Recent content in Number Theory on 隨寫日誌</description><generator>Hugo</generator><language>zh-tw</language><copyright>Erin Li</copyright><lastBuildDate>Mon, 24 Oct 2022 21:57:08 +0000</lastBuildDate><atom:link href="https://yun-20459.github.io/tags/number-theory/index.xml" rel="self" type="application/rss+xml"/><item><title>Codeforces 1635D. Infinite Set</title><link>https://yun-20459.github.io/posts/codeforces-1635d-infinite-set/</link><pubDate>Mon, 24 Oct 2022 21:57:08 +0000</pubDate><guid>https://yun-20459.github.io/posts/codeforces-1635d-infinite-set/</guid><description>&lt;p>這題好難，我看了好多遍別人的題解才懂 QwQ&lt;/p>
&lt;h2 id="題目">題目&lt;/h2>
&lt;p>給一個陣列，考慮一個無限的集合 $S$ 由符合以下條件之一的 $x$ 構成&lt;/p>
&lt;ol>
&lt;li>$x = a[i]$&lt;/li>
&lt;li>$x = 2 * y + 1$ and $y \in S$&lt;/li>
&lt;li>$x = 4 * y$ and $y \in S$&lt;/li>
&lt;/ol>
&lt;p>問在集合 $S$ 中有多少元素小於 $2^p$，答案很大要 mod $1e9+7$&lt;/p>
&lt;h2 id="作法">作法&lt;/h2>
&lt;p>因為 $p$ 的範圍會到 2e5，所以要用二進制來想這題。&lt;/p>
&lt;p>對於一個二進位制為 $t$ 的數字，可以想像操作二就是左移一位然後末位補 1，操作二就是左移兩位（這邊就有點像 string）。所以可以觀察出一個結論，就是對於一個數字，把它增加 $i$ 位的方法有 $dp_i$ 種，這裡的 $dp$ 就是費波那契數列。&lt;/p>
&lt;p>那這跟答案有什麼關係呢，假設一個二進位制為 $t$ 的數字存在在 $a$ 之中，那麼他擴展出的數字要小於 $p$ 的話，他擴展出的數字的數量就會是 $\sum_{i = 0}^{p - t} dp_i$，也就是不擴展、擴展一位、擴展兩位&amp;hellip;，那這件事情可以透過在算費波那契數列的時候算前綴和得到。&lt;/p>
&lt;p>接下來考慮是不是每個 $a[i]$ 都會對答案有貢獻，其實不是這樣，因為 $S$ 是一個 set，不會有重複的數字出現，所以如果會重複出現就不用算。那題解的做法是說那就把會產生的數字想成一棵樹，我一直去看產生 $x$ 的 parent 有沒有已經被 create 過，如果有的話，那就代表 $x$ 已經被前面的數字（也就是 parent） create 過了，那就不能算進答案裡面（因為已經算過了），在這邊的話 parent 的意思就是說看他能不能逆推操作二或操作三。&lt;/p></description></item></channel></rss>